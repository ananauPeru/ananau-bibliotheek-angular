<div class="container">
  <div class="row justify-content-center">
    <div class="col-12 col-md-9">
      <div class="card mt-5">
        <!-- <div class="card-header">
          <h4>Search Check-In History</h4>
        </div>
        <div class="card-body">
          <form (ngSubmit)="onSubmitCheckin()">
            <div class="mb-3">
              <label for="userIdCheckIn" class="form-label">User ID</label>
              <input
                type="number"
                class="form-control"
                id="userId"
                name="userIdCheckIn"
                [(ngModel)]="checkInUserId"
                required
              />
            </div>
            <button type="submit" class="btn btn-primary">Checkin</button>
          </form>
        </div>
      </div> -->

        <!-- QR code scanner -->

        <div class="card text-center" *ngIf="!qrCodeResult">
          <div class="card-body">
            <div class="font-weight-bold pb-4">
              Scan your QR code to check-in/check-out
            </div>
            <ngx-scanner-qrcode
              class="mb-4"
              #scanner="scanner"
              (event)="onCodeResult($event)"
            ></ngx-scanner-qrcode>
          </div>
        </div>

        <div class="card" *ngIf="qrCodeResult">
          <div class="card-header">
            <h4>Scanned QR Code</h4>
          </div>
          <div class="card-body" *ngIf="!isLoading">
            <p>First name: {{ qrCodeReusltJson.firstName }}</p>
            <p>Last name: {{ qrCodeReusltJson.lastName }}</p>
            <p>User ID: {{ qrCodeReusltJson.id }}</p>
          </div>
          <div class="card-body" *ngIf="isLoading">Loading...</div>
        </div>

        <!-- <div class="card" *ngIf="!qrCodeResult">
        <div class="card-header">
          <h4>Check-In</h4>
        </div>
        <div class="card-body">
          <div class="text-center">
            <ngx-scanner-qrcode
              #scanner="scanner"
              (event)="onCodeResult($event)"
            ></ngx-scanner-qrcode>
            <div class="mt-3">
              <button class="btn btn-primary" (click)="scanner.start()">
                <i class="fas fa-camera"></i> Activate Camera
              </button>
            </div>
          </div>
          <div class="mt-4" *ngIf="qrCodeResult">
            <h5>Scanned QR Code:</h5>
            <p>{{ qrCodeResult }}</p>
          </div>
        </div>
      </div> -->

        <!-- <div class="card mt-5" *ngIf="qrCodeResult">
        <div class="card-header">
          <h4>Scanned QR Code</h4>
        </div>
        <div class="card-body">
          <p>{{ qrCodeResult }}</p>
          <button class="btn btn-primary" (click)="resetScanner()">
            Scan Again
          </button>
        </div>
      </div> -->

        <!-- <div class="text-center">
        <qrcode
        #qrcode
        [qrdata]="'42'"
        [elementType]="'img'"
        [errorCorrectionLevel]="'M'"
        [scale]="1"
        [margin]="1"
        [width]="300"
      ></qrcode>
      <button class="btn btn-primary" (click)="downloadQRCode()">
        Download QR-code
      </button> -->
        <!-- <div class="card mt-5 mb-4">
          <div class="card-header">
            <h4>Search Check-In History</h4>
          </div>
          <div class="card-body">
            <form (ngSubmit)="onSearch()">
              <div class="mb-3">
                <label for="userId" class="form-label">User ID</label>
                <input
                  type="number"
                  class="form-control"
                  id="userId"
                  name="userId"
                  [(ngModel)]="searchUserId"
                  required
                />
              </div>
              <div class="mb-3">
                <label for="startDate" class="form-label">Start Date</label>
                <input
                  type="date"
                  class="form-control"
                  id="startDate"
                  name="startDate"
                  [(ngModel)]="searchStartDate"
                />
              </div>
              <div class="mb-3">
                <label for="endDate" class="form-label">End Date</label>
                <input
                  type="date"
                  class="form-control"
                  id="endDate"
                  name="endDate"
                  [(ngModel)]="searchEndDate"
                />
              </div>
              <button type="submit" class="btn btn-primary">Search</button>
            </form>
          </div>
        </div>

        <div
          class="card mt-5"
          *ngIf="searchResult !== null && searchResult !== ''"
        >
          <div class="card-header">
            <h4>Search Result</h4>
          </div>
          <div class="card-body">
            {{ searchResult }}
          </div>
        </div> -->
      </div>
    </div>
  </div>
</div>
